{
	"info": {
		"_postman_id": "7d4e2525-187b-4fd6-b869-0ee5ab816afd",
		"name": "Event Service API",
		"description": "API для сервиса мероприятий. Позволяет создавать события, регистрировать участников, генерировать билеты, отправлять уведомления, сканировать билеты, оставлять отзывы о событиях, просматривать участников.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "50373275",
		"_collection_link": "https://danic12tsar-8856681.postman.co/workspace/Don-Caster's-Workspace~14cdd2b8-942d-4d19-872f-a15eb0dc9695/collection/50373275-7d4e2525-187b-4fd6-b869-0ee5ab816afd?action=share&source=collection_link&creator=50373275"
	},
	"item": [
		{
			"name": "Events",
			"item": [
				{
					"name": "Create Event",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect(response.code).to.equal(201);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has title\", function () {",
									"    pm.expect(data.title).to.exist;",
									"});",
									"",
									"pm.test(\"Response has description\", function () {",
									"    pm.expect(data.description).to.exist;",
									"});",
									"",
									"pm.test(\"Response has startDate\", function () {",
									"    pm.expect(data.startDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has endDate\", function () {",
									"    pm.expect(data.endDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has location\", function () {",
									"    pm.expect(data.location).to.exist;",
									"});",
									"",
									"pm.test(\"Response has capacity\", function () {",
									"    pm.expect(data.capacity).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});",
									"",
									"if (response.code == 201) {",
									"    var eventId = data.id;",
									"    pm.collectionVariables.set(\"eventId\", eventId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Славянский базар\",\n  \"description\": \"Песни, пляски\",\n  \"startDate\": \"2024-06-15T10:00:00Z\",\n  \"endDate\": \"2024-06-15T18:00:00Z\",\n  \"location\": \"Витебск, Амфитеатр\",\n  \"address\": \"просп. Фрунзе, 13А\",\n  \"category\": \"Музыка\",\n  \"capacity\": 1000,\n  \"price\": 40.00,\n  \"status\": \"upcoming\",\n  \"organizer\": \"Родион Басс\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							]
						},
						"description": "Создание нового события. Обязательные поля: title, description, startDate, endDate, location, capacity, status. Опциональные: address, category, price, organizer."
					},
					"response": []
				},
				{
					"name": "Get Events List",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has items\", function () {",
									"    pm.expect(data.items).to.exist;",
									"});",
									"",
									"pm.test(\"Response has total\", function () {",
									"    pm.expect(data.total).to.exist;",
									"});",
									"",
									"pm.test(\"Response has page\", function () {",
									"    pm.expect(data.page).to.exist;",
									"});",
									"",
									"pm.test(\"Response has limit\", function () {",
									"    pm.expect(data.limit).to.exist;",
									"});",
									"",
									"if (data.items && data.items.length > 0) {",
									"    pm.test(\"First item has id\", function () {",
									"        pm.expect(data.items[0].id).to.exist;",
									"    });",
									"    pm.test(\"First item has title\", function () {",
									"        pm.expect(data.items[0].title).to.exist;",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events?page=1&limit=20&sortBy=startDate&sortOrder=asc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Номер страницы"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Количество элементов на странице"
								},
								{
									"key": "status",
									"value": "upcoming",
									"description": "Фильтр по статсу события",
									"disabled": true
								},
								{
									"key": "category",
									"value": "",
									"description": "Фильтр по категории события",
									"disabled": true
								},
								{
									"key": "location",
									"value": "",
									"description": "Фильтр по месту проведения",
									"disabled": true
								},
								{
									"key": "sortBy",
									"value": "startDate",
									"description": "Поле для сортировки"
								},
								{
									"key": "sortOrder",
									"value": "asc",
									"description": "Порядок сортировки"
								}
							]
						},
						"description": "Получение списка событий с пагинацией и фильтрацией."
					},
					"response": []
				},
				{
					"name": "Get Event by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has title\", function () {",
									"    pm.expect(data.title).to.exist;",
									"});",
									"",
									"pm.test(\"Response has description\", function () {",
									"    pm.expect(data.description).to.exist;",
									"});",
									"",
									"pm.test(\"Response has startDate\", function () {",
									"    pm.expect(data.startDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has endDate\", function () {",
									"    pm.expect(data.endDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has location\", function () {",
									"    pm.expect(data.location).to.exist;",
									"});",
									"",
									"pm.test(\"Response has capacity\", function () {",
									"    pm.expect(data.capacity).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Получение информации о событии по его ID."
					},
					"response": []
				},
				{
					"name": "Update Event",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has title\", function () {",
									"    pm.expect(data.title).to.exist;",
									"});",
									"",
									"pm.test(\"Response has description\", function () {",
									"    pm.expect(data.description).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Славянский базар\",\n  \"description\": \"Песни, пляски\",\n  \"startDate\": \"2024-06-15T10:00:00Z\",\n  \"endDate\": \"2024-06-15T18:00:00Z\",\n  \"location\": \"Витебск, Амфитеатр\",\n  \"address\": \"просп. Фрунзе, 13А\",\n  \"category\": \"Музыка\",\n  \"capacity\": 1000,\n  \"price\": 40.00,\n  \"status\": \"upcoming\",\n  \"organizer\": \"Родион Басс\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Обновление информации о событии."
					},
					"response": []
				},
				{
					"name": "Delete Event",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code check\", function () {",
									"    var code = response.code;",
									"    var ok = (code == 204 || code == 404 || code == 409);",
									"    pm.expect(ok).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}"
							]
						},
						"description": "Удаление события. Возвращает 204 при успехе, 404 если событие не найдено, 409 если есть зарегистрированные участники."
					},
					"response": []
				},
				{
					"name": "Get Event Participants",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has items\", function () {",
									"    pm.expect(data.items).to.exist;",
									"});",
									"",
									"pm.test(\"Response has total\", function () {",
									"    pm.expect(data.total).to.exist;",
									"});",
									"",
									"pm.test(\"Response has page\", function () {",
									"    pm.expect(data.page).to.exist;",
									"});",
									"",
									"pm.test(\"Response has limit\", function () {",
									"    pm.expect(data.limit).to.exist;",
									"});",
									"",
									"if (data.items && data.items.length > 0) {",
									"    pm.test(\"First item has id\", function () {",
									"        pm.expect(data.items[0].id).to.exist;",
									"    });",
									"    pm.test(\"First item has name\", function () {",
									"        pm.expect(data.items[0].name).to.exist;",
									"    });",
									"    pm.test(\"First item has email\", function () {",
									"        pm.expect(data.items[0].email).to.exist;",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/participants?page=1&limit=20&sortBy=registrationDate&sortOrder=desc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"participants"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Номер страницы"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Количество элементов на странице"
								},
								{
									"key": "status",
									"value": "registered",
									"description": "Фильтр по статусу участника",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Поиск по имени или email участника",
									"disabled": true
								},
								{
									"key": "sortBy",
									"value": "registrationDate",
									"description": "Поле для сортировки"
								},
								{
									"key": "sortOrder",
									"value": "desc",
									"description": "Порядок сортировки"
								}
							]
						},
						"description": "Просмотр всех участников конкретного события с пагинацией и фильтрацией."
					},
					"response": []
				},
				{
					"name": "Send Event Notifications",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has sent\", function () {",
									"    pm.expect(data.sent).to.exist;",
									"});",
									"",
									"pm.test(\"Response has failed\", function () {",
									"    pm.expect(data.failed).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"email\",\n  \"subject\": \"Напоминание о предстоящем событии\",\n  \"message\": \"Напоминаем, что событие начнется завтра в 10:00\",\n  \"participantIds\": [\n    \"550e8400-e29b-41d4-a716-446655440000\",\n    \"550e8400-e29b-41d4-a716-446655440001\"\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/notifications",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"notifications"
							]
						},
						"description": "Отправка уведомлений участникам события."
					},
					"response": []
				}
			],
			"description": "Операции с событиями: создание, получение списка, получение по ID, обновление, удаление, просмотр участников, отправка уведомлений."
		},
		{
			"name": "Participants",
			"item": [
				{
					"name": "Create Participant",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect(response.code).to.equal(201);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has name\", function () {",
									"    pm.expect(data.name).to.exist;",
									"});",
									"",
									"pm.test(\"Response has email\", function () {",
									"    pm.expect(data.email).to.exist;",
									"});",
									"",
									"pm.test(\"Response has registrationDate\", function () {",
									"    pm.expect(data.registrationDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});",
									"",
									"if (response.code == 201) {",
									"    var participantId = data.id;",
									"    pm.collectionVariables.set(\"participantId\", participantId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"name\": \"Иван Иванов\",\n  \"email\": \"ivanivanov@gmail.com\",\n  \"phone\": \"+375256884050\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/participants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"participants"
							]
						},
						"description": "Регистрация нового участника на событие. Обязательные поля: eventId, name, email. Опциональное: phone."
					},
					"response": []
				},
				{
					"name": "Get Participant by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has name\", function () {",
									"    pm.expect(data.name).to.exist;",
									"});",
									"",
									"pm.test(\"Response has email\", function () {",
									"    pm.expect(data.email).to.exist;",
									"});",
									"",
									"pm.test(\"Response has registrationDate\", function () {",
									"    pm.expect(data.registrationDate).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/participants/{{participantId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"participants",
								"{{participantId}}"
							]
						},
						"description": "Получение информации об участнике по его id."
					},
					"response": []
				},
				{
					"name": "Update Participant",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has name\", function () {",
									"    pm.expect(data.name).to.exist;",
									"});",
									"",
									"pm.test(\"Response has email\", function () {",
									"    pm.expect(data.email).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"name\": \"Иван Иванов\",\n  \"email\": \"ivanivanov@gmail.com\",\n  \"phone\": \"+375256884050\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/participants/{{participantId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"participants",
								"{{participantId}}"
							]
						},
						"description": "Обновление информации об участнике."
					},
					"response": []
				},
				{
					"name": "Delete Participant",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code check\", function () {",
									"    var code = response.code;",
									"    var ok = (code == 204 || code == 404);",
									"    pm.expect(ok).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/participants/{{participantId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"participants",
								"{{participantId}}"
							]
						},
						"description": "Удаление участника из события. Возвращает 204 при успехе, 404 если участник не найден."
					},
					"response": []
				}
			],
			"description": "Операции с участниками: регистрация, получение по ID, обновление, удаление."
		},
		{
			"name": "Tickets",
			"item": [
				{
					"name": "Create Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect(response.code).to.equal(201);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has participantId\", function () {",
									"    pm.expect(data.participantId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has ticketCode\", function () {",
									"    pm.expect(data.ticketCode).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});",
									"",
									"if (response.code == 201) {",
									"    var ticketId = data.id;",
									"    pm.collectionVariables.set(\"ticketId\", ticketId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"participantId\": \"{{participantId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tickets",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets"
							]
						},
						"description": "Генерация билета для участника события. Обязательные поля: eventId, participantId. ticketCode и status генерируются автоматически."
					},
					"response": []
				},
				{
					"name": "Get Ticket by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has participantId\", function () {",
									"    pm.expect(data.participantId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has ticketCode\", function () {",
									"    pm.expect(data.ticketCode).to.exist;",
									"});",
									"",
									"pm.test(\"Response has status\", function () {",
									"    pm.expect(data.status).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tickets/{{ticketId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"{{ticketId}}"
							]
						},
						"description": "Получение информации о билете по его id."
					},
					"response": []
				},
				{
					"name": "Update Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has participantId\", function () {",
									"    pm.expect(data.participantId).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"participantId\": \"{{participantId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/{{ticketId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"{{ticketId}}"
							]
						},
						"description": "Обновление билета. Принимает eventId и participantId."
					},
					"response": []
				},
				{
					"name": "Delete Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code check\", function () {",
									"    var code = response.code;",
									"    var ok = (code == 204 || code == 400 || code == 404);",
									"    pm.expect(ok).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/tickets/{{ticketId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"{{ticketId}}"
							]
						},
						"description": "Удаление билета. Возвращает 204 при успехе, 400 если билет уже использован, 404 если билет не найден."
					},
					"response": []
				},
				{
					"name": "Scan Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has ticket\", function () {",
									"    pm.expect(data.ticket).to.exist;",
									"});",
									"",
									"pm.test(\"Response has scanned\", function () {",
									"    pm.expect(data.scanned).to.exist;",
									"});",
									"",
									"pm.test(\"Response has message\", function () {",
									"    pm.expect(data.message).to.exist;",
									"});",
									"",
									"if (data.ticket) {",
									"    pm.test(\"Ticket has id\", function () {",
									"        pm.expect(data.ticket.id).to.exist;",
									"    });",
									"    pm.test(\"Ticket has status\", function () {",
									"        pm.expect(data.ticket.status).to.exist;",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"scannerId\": \"scanner-001\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/tickets/{{ticketId}}/scan",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"tickets",
								"{{ticketId}}",
								"scan"
							]
						},
						"description": "Сканирование билета. Возвращает информацию о билете и результат сканирования."
					},
					"response": []
				}
			],
			"description": "Операции с билетами: создание, получение по ID, обновление, удаление, сканирование."
		},
		{
			"name": "Reviews",
			"item": [
				{
					"name": "Create Review",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.expect(response.code).to.equal(201);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has eventId\", function () {",
									"    pm.expect(data.eventId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has participantId\", function () {",
									"    pm.expect(data.participantId).to.exist;",
									"});",
									"",
									"pm.test(\"Response has rating\", function () {",
									"    pm.expect(data.rating).to.exist;",
									"});",
									"",
									"pm.test(\"Rating is between 1 and 5\", function () {",
									"    var rating = data.rating;",
									"    var ok = (rating >= 1 && rating <= 5);",
									"    pm.expect(ok).to.be.true;",
									"});",
									"",
									"if (response.code == 201) {",
									"    var reviewId = data.id;",
									"    pm.collectionVariables.set(\"reviewId\", reviewId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"participantId\": \"{{participantId}}\",\n  \"rating\": 5,\n  \"comment\": \"Беспонтовая музыка. Очень плохая музыка.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/reviews",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"reviews"
							]
						},
						"description": "Добавление отзыва о событии. Обязательные поля: eventId, participantId, rating (1-5). Опциональное: comment."
					},
					"response": []
				},
				{
					"name": "Get Event Reviews",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has items\", function () {",
									"    pm.expect(data.items).to.exist;",
									"});",
									"",
									"pm.test(\"Response has total\", function () {",
									"    pm.expect(data.total).to.exist;",
									"});",
									"",
									"pm.test(\"Response has page\", function () {",
									"    pm.expect(data.page).to.exist;",
									"});",
									"",
									"pm.test(\"Response has limit\", function () {",
									"    pm.expect(data.limit).to.exist;",
									"});",
									"",
									"if (data.items && data.items.length > 0) {",
									"    pm.test(\"First item has id\", function () {",
									"        pm.expect(data.items[0].id).to.exist;",
									"    });",
									"    pm.test(\"First item has rating\", function () {",
									"        pm.expect(data.items[0].rating).to.exist;",
									"    });",
									"    pm.test(\"First item rating is valid\", function () {",
									"        var rating = data.items[0].rating;",
									"        var ok = (rating >= 1 && rating <= 5);",
									"        pm.expect(ok).to.be.true;",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/reviews?page=1&limit=20&sortBy=createdAt&sortOrder=desc",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"reviews"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Номер страницы"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Количество элементов на странице"
								},
								{
									"key": "rating",
									"value": "",
									"description": "Фильтр по оценке",
									"disabled": true
								},
								{
									"key": "minRating",
									"value": "",
									"description": "Минимальная оценка",
									"disabled": true
								},
								{
									"key": "maxRating",
									"value": "",
									"description": "Максимальная оценка",
									"disabled": true
								},
								{
									"key": "sortBy",
									"value": "createdAt",
									"description": "Поле для сортировки"
								},
								{
									"key": "sortOrder",
									"value": "desc",
									"description": "Порядок сортировки"
								}
							]
						},
						"description": "Получение отзывов о событии с пагинацией и фильтрацией."
					},
					"response": []
				},
				{
					"name": "Update Review",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.expect(response.code).to.equal(200);",
									"});",
									"",
									"var data = response.json();",
									"pm.test(\"Response has id\", function () {",
									"    pm.expect(data.id).to.exist;",
									"});",
									"",
									"pm.test(\"Response has rating\", function () {",
									"    pm.expect(data.rating).to.exist;",
									"});",
									"",
									"pm.test(\"Rating is between 1 and 5\", function () {",
									"    var rating = data.rating;",
									"    var ok = (rating >= 1 && rating <= 5);",
									"    pm.expect(ok).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"participantId\": \"{{participantId}}\",\n  \"rating\": 5,\n  \"comment\": \"Беспонтовая музыка. Очень плохая музыка.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/reviews/{{reviewId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"reviews",
								"{{reviewId}}"
							]
						},
						"description": "Обновление отзыва о событии."
					},
					"response": []
				},
				{
					"name": "Delete Review",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var response = pm.response;",
									"pm.test(\"Status code check\", function () {",
									"    var code = response.code;",
									"    var ok = (code == 204 || code == 404);",
									"    pm.expect(ok).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/events/{{eventId}}/reviews/{{reviewId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"events",
								"{{eventId}}",
								"reviews",
								"{{reviewId}}"
							]
						},
						"description": "Удаление отзыва о событии. Возвращает 204 при успехе, 404 если событие или отзыв не найдены."
					},
					"response": []
				}
			],
			"description": "Операции с отзывами: создание, получение списка, обновление, удаление."
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api",
			"type": "string"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string"
		}
	]
}